{%extends 'users/base.html'%}

{%block styles%}
<link rel="stylesheet" href="../../static/users/assets/css/register.css">
<link rel="stylesheet" href="../../static/users/assets/css/bg.css">

{%endblock styles%}

{%block content%}
<script>
    var options = {
        bottom: '64px', // default: '32px'
        right: 'unset', // default: '32px'
        left: '32px', // default: 'unset'
        time: '0.5s', // default: '0.3s'
        mixColor: '#dedede', // default: '#fff'
        backgroundColor: '#fff',  // default: '#fff'
        buttonColorDark: '#100f2c',  // default: '#100f2c'
        buttonColorLight: '#fff', // default: '#fff'
        saveInCookies: true, // default: true,
        label: '', // default: ''
        autoMatchOsTheme: true // default: true
    }
    const darkmode = new Darkmode(options);
    function toggle(){
        darkmode.toggle();

    }
</script>
<script>
window.onload = async function changeRegName(){
        var teamNumber = $("#team_num_reg").val();
        $.get("https://www.thebluealliance.com/api/v3/team/frc" + teamNumber + "/simple", {"X-TBA-Auth-Key": "PzOW8s1DYGlVkgAsikwVlhy5wZ5Tm85fKSjd0DfiUJFQOGhsReyZEf88EEoAU1Cw"}, function(data){
            var jObject = (data);
            $("#welcome-team").html("Welcome to the" + " " + '"' + jObject['nickname'] + '"');
        }).fail(function(){
            $("#welcome-team").html("Invalid team number...");
        });
    }

    function changeRegName(){
        var teamNumber = $("#team_num_reg").val();
        $.get("https://www.thebluealliance.com/api/v3/team/frc" + teamNumber + "/simple", {"X-TBA-Auth-Key": "PzOW8s1DYGlVkgAsikwVlhy5wZ5Tm85fKSjd0DfiUJFQOGhsReyZEf88EEoAU1Cw"}, function(data){
            var jObject = (data);
            $("#welcome-team").html("Welcome" + " " + '"' + jObject['nickname'] + '"');
        }).fail(function(){
            $("#welcome-team").html("Invalid team number...");
        });
    }(changeRegName(), 100)
</script>
<div class=form>
<div class="card" style="padding: 50px; transform: translateY(10%);">
    <h1 style="margin-left: 15%; padding-bottom: 20px;">Register</h1>
    <form id="registerForm" method="post">
        {% csrf_token %}
        <div class="form-group">
            <label>Username</label>
            {{form.username}}
            <!-- <input class="form-control" type="number" id="team" placeholder="Enter Team Number">-->
        </div>
        <div class="form-group">
            <div>
                {% for message in messages%}
                    <small id="error" style="font-size: x-small;">{{message}}</small>
                {%endfor%}
            </div>
            <label>Email</label>
            {{form.email}}
            <!--<input class="form-control" type="email" id="email" placeholder="Enter Email">-->
        </div>
        <div class="form-group">
            <label>Password</label>
            {{form.password}}
            <!--<input class="form-control" type="password" id="password" placeholder="Enter Password">-->
        </div>
        <div class="form-group">
            <label>Team Number</label>
            {{form.team_num}}
            <!-- <input class="form-control" type="number" id="team" placeholder="Enter Team Number">-->
        </div>
        


<!--<input class="inp-cbx" id="cbx" type="checkbox" style="display: none;"/>-->
{{form.is_team_admin}}
<label class="cbx" for="cbx"><span>
    <svg width="12px" height="10px" viewbox="0 0 12 10">
      <polyline points="1.5 6 4.5 9 10.5 1"></polyline>
    </svg></span><span id="checkbox-text">I'm a Team Leader</span></label>

<p id="welcome-team"></p>

        <button id="submit" type="submit" class="btn btn-primary">Register</button>

        <strong><div class="hr-sect">Login if you already have an account</div></strong>
    </form>
<a href="{% url 'login-view' %}" id="login" class="btn btn-primary">Login</a>
</div>
<br>
<br>
<br>


{%endblock content%}